def test_pages_uses_correct_template(self):
    # Собираем в словарь пары "имя_html_шаблона: reverse(name)"
    templates_pages_names = {
            'posts/index.html': reverse('posts:index'),
            'posts/group_list.html': reverse('posts:group_list', kwargs={'slug': self.group.slug}),
            'posts/profile.html': reverse('posts:profile', kwargs={'username': self.user.username}),
            'posts/post_detail.html': reverse('posts:post_detail', kwargs={'post_id': self.post.id}),
            'posts/create_post.html': reverse('posts:post_create'),
            'posts/create_post.html': reverse('posts:post_edit', kwargs={'post_id': self.post.id}),
    }
    # Проверяем, что при обращении к name вызывается соответствующий HTML-шаблон
    for template, reverse_name in templates_pages_names.items():
        with self.subTest(reverse_name=reverse_name):
            response = self.authorized_client.get(reverse_name)
            self.assertTemplateUsed(response, template)
